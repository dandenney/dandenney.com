(function(){(function(a,b){var c,d,e,f;f="scorecard";e=b.document;d={username:false,sections:["completed","in-progress","badges"],newtab:false,loading:{message:"Loading...",id:"load-message"}};c=function(){function b(b,c){this.element=b;this.options=a.extend({},d,c);this._defaults=d;this._name=f;this.init()}b.prototype.init=function(){var b,c,d;c=this;b=this.element;if(c.options.username!=null){d="http://www.codeschool.com/users/"+c.options.username+".json?callback=?";a(b).append(a("<p/>",{id:c.options.loading.id}).text(c.options.loading.message));return a.getJSON(d,function(d){var e,f,g,h,i;a(b).find("#"+c.options.loading.id).remove();h=c.options.sections;i=[];for(f=0,g=h.length;f<g;f++){e=h[f];switch(e){case"completed":i.push(a(b).append(c.renderSection(d.courses.completed,"title","url","badge")));break;case"in-progress":i.push(a(b).append(c.renderSection(d.courses.in_progress,"title","url","badge")));break;case"badges":i.push(a(b).append(c.renderSection(d.badges,"name","course_url","badge")));break;default:i.push(void 0)}}return i})}else{return a(b).append(a("<p/>").text("Scorecard: Code school username is not configured."))}};b.prototype.renderSection=function(b,c,d,e){var f,g,h,i,j;h=a("<ul/>");for(i=0,j=b.length;i<j;i++){f=b[i];g=a("<li/>").append(a("<a/>",{href:f[d],title:f[c],target:this.options.newtab?"_blank":void 0}).append(a("<img>",{src:f[e],alt:f[c]})));h.append(g)}return h};return b}();return a.fn[f]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+f)){return a.data(this,"plugin_"+f,new c(this,b))}})}})(jQuery,window)}).call(this)