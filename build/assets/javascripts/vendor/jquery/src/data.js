define(["./core","./var/rnotwhite","./core/access","./data/var/data_priv","./data/var/data_user"],function(t,e,a,n,r){function i(e,a,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+a.replace(o,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:s.test(n)?t.parseJSON(n):n}catch(u){}r.set(e,a,n)}else n=void 0;return n}var s=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,o=/([A-Z])/g;return t.extend({hasData:function(t){return r.hasData(t)||n.hasData(t)},data:function(t,e,a){return r.access(t,e,a)},removeData:function(t,e){r.remove(t,e)},_data:function(t,e,a){return n.access(t,e,a)},_removeData:function(t,e){n.remove(t,e)}}),t.fn.extend({data:function(e,s){var o,u,c,f=this[0],d=f&&f.attributes;if(void 0===e){if(this.length&&(c=r.get(f),1===f.nodeType&&!n.get(f,"hasDataAttrs"))){for(o=d.length;o--;)d[o]&&(u=d[o].name,0===u.indexOf("data-")&&(u=t.camelCase(u.slice(5)),i(f,u,c[u])));n.set(f,"hasDataAttrs",!0)}return c}return"object"==typeof e?this.each(function(){r.set(this,e)}):a(this,function(a){var n,s=t.camelCase(e);if(f&&void 0===a){if(n=r.get(f,e),void 0!==n)return n;if(n=r.get(f,s),void 0!==n)return n;if(n=i(f,s,void 0),void 0!==n)return n}else this.each(function(){var t=r.get(this,s);r.set(this,s,a),-1!==e.indexOf("-")&&void 0!==t&&r.set(this,e,a)})},null,s,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){r.remove(this,t)})}}),t});