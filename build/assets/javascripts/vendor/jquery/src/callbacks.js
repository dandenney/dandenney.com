define(["./core","./var/rnotwhite"],function(n,t){function r(r){var i=e[r]={};return n.each(r.match(t)||[],function(n,t){i[t]=!0}),i}var e={};return n.Callbacks=function(t){t="string"==typeof t?e[t]||r(t):n.extend({},t);var i,u,o,c,f,a,s=[],h=!t.once&&[],l=function(n){for(i=t.memory&&n,u=!0,a=c||0,c=0,f=s.length,o=!0;s&&f>a;a++)if(s[a].apply(n[0],n[1])===!1&&t.stopOnFalse){i=!1;break}o=!1,s&&(h?h.length&&l(h.shift()):i?s=[]:d.disable())},d={add:function(){if(s){var r=s.length;!function e(r){n.each(r,function(r,i){var u=n.type(i);"function"===u?t.unique&&d.has(i)||s.push(i):i&&i.length&&"string"!==u&&e(i)})}(arguments),o?f=s.length:i&&(c=r,l(i))}return this},remove:function(){return s&&n.each(arguments,function(t,r){for(var e;(e=n.inArray(r,s,e))>-1;)s.splice(e,1),o&&(f>=e&&f--,a>=e&&a--)}),this},has:function(t){return t?n.inArray(t,s)>-1:!(!s||!s.length)},empty:function(){return s=[],f=0,this},disable:function(){return s=h=i=void 0,this},disabled:function(){return!s},lock:function(){return h=void 0,i||d.disable(),this},locked:function(){return!h},fireWith:function(n,t){return!s||u&&!h||(t=t||[],t=[n,t.slice?t.slice():t],o?h.push(t):l(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!u}};return d},n});